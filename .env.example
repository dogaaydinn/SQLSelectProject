# Environment Configuration Template
# Copy this file to .env and configure for your environment

# ================================
# ENVIRONMENT
# ================================
ENVIRONMENT=development
NODE_ENV=development
LOG_LEVEL=INFO

# ================================
# DATABASE - PostgreSQL
# ================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=employees
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_REPLICA_PORT=5433

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# Database URLs (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ================================
# CACHE - Redis
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
REDIS_TTL=3600

# ================================
# API SERVICES
# ================================
API_PYTHON_HOST=0.0.0.0
API_PYTHON_PORT=8000
API_NODE_HOST=0.0.0.0
API_NODE_PORT=3000
GRAPHQL_PORT=4000
ANALYTICS_PORT=8001

# ================================
# NGINX
# ================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ================================
# AUTHENTICATION & SECURITY
# ================================
# IMPORTANT: Change these in production!
JWT_SECRET=your-256-bit-secret-key-change-this-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600
REFRESH_TOKEN_EXPIRATION=604800

# OAuth2 Settings (if using)
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=
OAUTH2_REDIRECT_URI=

# API Keys
API_KEY_HEADER=X-API-Key
API_KEY=

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:4200
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# ================================
# MONITORING - Prometheus
# ================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d

# ================================
# MONITORING - Grafana
# ================================
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3001

# ================================
# LOGGING - ELK Stack
# ================================
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_HOST=localhost
KIBANA_PORT=5601
LOGSTASH_PORT=5000

# ================================
# TRACING - Jaeger
# ================================
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ================================
# DATABASE ADMIN - PgAdmin
# ================================
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@sqlselect.local
PGADMIN_PASSWORD=admin

# ================================
# MESSAGE QUEUE - Kafka
# ================================
KAFKA_PORT=9092
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_PORT=2181

# ================================
# NVIDIA CUDA
# ================================
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility
CUDA_VISIBLE_DEVICES=0
CUDA_DEVICE_ORDER=PCI_BUS_ID

# ================================
# RATE LIMITING
# ================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ================================
# CACHING STRATEGY
# ================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
CACHE_MAX_ITEMS=1000

# ================================
# PERFORMANCE
# ================================
QUERY_TIMEOUT=30000
MAX_QUERY_COMPLEXITY=1000
ENABLE_QUERY_LOGGING=true
SLOW_QUERY_THRESHOLD=1000

# ================================
# FEATURE FLAGS
# ================================
FEATURE_GRAPHQL_PLAYGROUND=true
FEATURE_API_DOCS=true
FEATURE_METRICS=true
FEATURE_HEALTH_CHECK=true
FEATURE_AUDIT_LOG=true

# ================================
# ML/AI SETTINGS
# ================================
ML_MODEL_PATH=/models
ML_PREDICTION_TIMEOUT=5000
ML_BATCH_SIZE=32
ENABLE_QUERY_OPTIMIZATION_ML=true

# ================================
# BACKUP
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=

# ================================
# ALERTING
# ================================
ALERT_EMAIL=
ALERT_SLACK_WEBHOOK=
ALERT_PAGERDUTY_KEY=

# ================================
# DEVELOPMENT
# ================================
DEBUG=false
ENABLE_PROFILING=false
ENABLE_QUERY_EXPLAIN=false

# ================================
# TESTING
# ================================
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/employees_test
TEST_REDIS_URL=redis://:redis@localhost:6379/15

# ================================
# DOCKER
# ================================
COMPOSE_PROJECT_NAME=sqlselect
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ================================
# RESOURCE LIMITS
# ================================
MAX_UPLOAD_SIZE=10485760
MAX_JSON_SIZE=1048576
MAX_CONCURRENT_QUERIES=100

# ================================
# SSL/TLS
# ================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key
SSL_CA_PATH=/etc/ssl/certs/ca.crt
