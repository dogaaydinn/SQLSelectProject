# Production Environment Configuration Example
# Copy this file to terraform.tfvars and fill in sensitive values

aws_region   = "us-east-1"
project_name = "sqlselect"
environment  = "prod"

# IMPORTANT: Restrict API access to your company's IPs!
allowed_cidr_blocks = [
  "203.0.113.0/24",  # Replace with your office IP range
  "198.51.100.0/24"  # Replace with your VPN IP range
]

# Database Credentials (USE STRONG PASSWORDS!)
# Minimum 16 characters, mix of letters, numbers, symbols
db_master_username = "postgres_admin"
db_master_password = "CHANGE_ME_USE_AWS_SECRETS_MANAGER"

# Redis AUTH Token (USE STRONG TOKEN!)
# Minimum 16 characters, maximum 128 characters
redis_auth_token = "CHANGE_ME_USE_AWS_SECRETS_MANAGER_MIN_16_CHARS"

# Security - KMS Key for Encryption
kms_key_arn = "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"

# Alarms - SNS Topic for Production Alerts
alarm_sns_topic_arn = "arn:aws:sns:us-east-1:123456789012:production-alerts"

# Network Configuration
vpc_cidr              = "10.1.0.0/16"
public_subnet_cidrs   = ["10.1.1.0/24", "10.1.2.0/24", "10.1.3.0/24"]
private_subnet_cidrs  = ["10.1.11.0/24", "10.1.12.0/24", "10.1.13.0/24"]
database_subnet_cidrs = ["10.1.21.0/24", "10.1.22.0/24", "10.1.23.0/24"]

# EKS Configuration
eks_cluster_version            = "1.28"
cluster_endpoint_public_access = true  # Consider false for maximum security

# RDS Configuration
rds_engine_version = "16.1"
rds_instance_class = "db.r6g.2xlarge"  # 8 vCPU, 64 GB RAM
database_name      = "employees"

# ElastiCache Configuration
redis_engine_version = "7.1"
redis_node_type      = "cache.r7g.xlarge"  # 4 vCPU, 26 GB RAM

# Tags
tags = {
  Owner       = "Platform Team"
  Terraform   = "true"
  Environment = "prod"
  CostCenter  = "Production"
  Compliance  = "SOC2"
  DataClass   = "Confidential"
}

# PRODUCTION CHECKLIST:
# ✅ Update allowed_cidr_blocks with your company IPs
# ✅ Use AWS Secrets Manager for passwords (don't store in tfvars!)
# ✅ Create KMS key for encryption
# ✅ Create SNS topic for alarms
# ✅ Review backup retention periods
# ✅ Enable AWS GuardDuty
# ✅ Enable AWS Config for compliance
# ✅ Configure S3 backend for Terraform state
# ✅ Enable MFA delete on S3 state bucket
# ✅ Review IAM roles and least privilege access
# ✅ Enable CloudTrail logging
